{{- 'brand-story.css' | asset_url | stylesheet_tag -}}
{%- liquid
	assign section_width = section.settings.section_width
	assign text_width = section.settings.text_width
	assign text_position = section.settings.text_position
	assign text_alignment = section.settings.text_alignment

	assign color_bg = section.settings.color_bg | downcase
	assign color_text = section.settings.color_text
	assign color_links = section.settings.color_links
	assign text_stroke_color = section.settings.text_stroke_color
	assign text_stroke_width = section.settings.text_stroke_width
	assign accent_color = section.settings.accent_color

	assign disable_top_spacing = section.settings.disable_top_spacing
	assign disable_bottom_spacing = section.settings.disable_bottom_spacing

	assign solid_button_label = color_bg
	if color_bg == 'transparent' or color_bg == 'rgba(0,0,0,0)'
		assign solid_button_label = '#ffffff'
	endif
-%}
<div class="row {{ section_width }}">
	<div class="small-12 columns">
		<div class="brand-story text-{{ text_alignment }} text-position-{{ text_position }} text-width-{{ text_width }} section-spacing-padding{% if disable_top_spacing %} section-spacing--disable-top{% endif %}{% if disable_bottom_spacing %} section-spacing--disable-bottom{% endif %}{% if section.settings.background_image != blank %} brand-story-with-bg-image{% endif %}"
		style="--color-bg: {{ color_bg }}; 
		       --color-text: {{ color_text }}; 
		       --text-stroke-color: {{ text_stroke_color }};
		       --text-stroke-width: {{ text_stroke_width }}px;
		       --accent-color: {{ accent_color }};
		       --solid-button-background: {{ color_text }}; 
		       --outline-button-label: {{ color_text }}; 
		       --solid-button-label: {{ solid_button_label }}; 
		       --bg-body: {{ color_bg }}; 
		       --color-accent: {{ color_links }}; 
		       --color-accent-rgb: {{ color_links.rgb | replace: ' ' , ',' }};
		       {% if section.settings.background_image != blank %}background-image: url('{{ section.settings.background_image | img_url: 'master' }}');{% endif %}">
			<div class="brand-story__inner">
				{% if section.settings.heading != blank %}
					<h2 class="brand-story-heading">{{ section.settings.heading }}</h2>
				{% endif %}
				
				{% if section.settings.vision_title != blank %}
					<div class="brand-story-section vision-section">
						<div class="section-icon">🌿</div>
						<h3 class="section-title">{{ section.settings.vision_title }}</h3>
						{% if section.settings.vision_text != blank %}
							<div class="section-content rte">
								{{ section.settings.vision_text }}
							</div>
						{% endif %}
					</div>
				{% endif %}
				
				<div class="brand-story-core-values">
					{% for block in section.blocks %}
						{% if block.type == 'core_value' %}
							<div class="brand-story-value" {{ block.shopify_attributes }}>
								{% if block.settings.icon != blank %}
									<div class="value-icon">{{ block.settings.icon }}</div>
								{% endif %}
								
								{% if block.settings.heading != blank %}
									<h3 class="value-title {{ block.settings.heading_size }}">{{ block.settings.heading }}</h3>
								{% endif %}
								
								{% if block.settings.text != blank %}
									<div class="value-content rte {{ block.settings.text_size }}">
										{{ block.settings.text }}
									</div>
								{% endif %}
							</div>
						{% endif %}
					{% endfor %}
				</div>
				
				{% if section.settings.tone_title != blank %}
					<div class="brand-story-section tone-section">
						<div class="section-icon">🌱</div>
						<h3 class="section-title">{{ section.settings.tone_title }}</h3>
						{% if section.settings.tone_text != blank %}
							<div class="section-content rte">
								{{ section.settings.tone_text }}
							</div>
						{% endif %}
					</div>
				{% endif %}
				
				{% if section.settings.message_title != blank %}
					<div class="brand-story-section message-section">
						<div class="section-icon">✨</div>
						<h3 class="section-title">{{ section.settings.message_title }}</h3>
						{% if section.settings.message_text != blank %}
							<div class="section-content rte">
								{{ section.settings.message_text }}
							</div>
						{% endif %}
					</div>
				{% endif %}
				
				{% if section.settings.button_label != blank %}
					<div class="brand-story-button">
						<a class="button{% if section.settings.button_outline %} outline{%- endif -%}" href="{{ section.settings.button_link }}">
							<span>{{ section.settings.button_label }}</span>
						</a>
					</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>

{% schema %}
  {
    "name": "品牌故事",
    "class": "section-brand-story",
    "settings": [
			{
				"type": "text",
				"id": "heading",
				"label": "标题",
				"default": "我们的品牌故事"
			},
			{
				"type": "header",
				"content": "愿景部分"
			},
			{
				"type": "text",
				"id": "vision_title",
				"label": "愿景标题",
				"default": "Our Vision"
			},
			{
				"type": "richtext",
				"id": "vision_text",
				"label": "愿景内容",
				"default": "<p>We started Mintravibes with a simple yet heartfelt intention: To spread kindness in a world that's growing increasingly restless — gently, patiently, and with compassion. Through this project, we hope to slowly fulfill three core aspirations:</p>"
			},
			{
				"type": "header",
				"content": "语调部分"
			},
			{
				"type": "text",
				"id": "tone_title",
				"label": "语调标题",
				"default": "Tone of Voice"
			},
			{
				"type": "richtext",
				"id": "tone_text",
				"label": "语调内容",
				"default": "<p>We're not in a hurry to \"sell you something.\" We simply place these pieces of faith and blessing in front of you — softly. Our tone is calm and natural — like someone brewing tea in the mountains. No pushing, no exaggeration.</p><p>Because: This feels more like a form of service than a business. It's an extension of faith — not just a product in wrapping paper. It's a gentle reminder — not a material showpiece.</p><p>We believe that those who truly understand the meaning of these creations will naturally be drawn to them. And we hope that the moment you see them might be the moment you feel ready to turn inward and make a new vow.</p>"
			},
			{
				"type": "header",
				"content": "核心信息部分"
			},
			{
				"type": "text",
				"id": "message_title",
				"label": "核心信息标题",
				"default": "Core Message"
			},
			{
				"type": "richtext",
				"id": "message_text",
				"label": "核心信息内容",
				"default": "<p>Faith isn't about status or luxury. It's about choosing kindness and holding your intention — every single day. These creations — perhaps just a bracelet or a small pendant — may become your anchor of belief, a small signal to guide you back to your heart of compassion.</p><p>We believe: Everyone comes into this world with a wish. And if your wish is rooted in kindness, the Buddhas will respond to it. You are the Buddha in this world. When you're willing to complete yourself, you might just bring a little more light into someone else's life.</p><p>That is why we continue to do what we do.</p>"
			},
			{
				"type": "header",
				"content": "按钮"
			},
			{
				"type": "text",
				"id": "button_label",
				"label": "按钮文本",
				"default": "了解更多"
			},
			{
				"type": "url",
				"id": "button_link",
				"label": "按钮链接"
			},
			{
				"type": "checkbox",
				"id": "button_outline",
				"label": "使用轮廓按钮样式",
				"default": false
			},
			{
				"type": "header",
				"content": "布局设置"
			},
			{
				"type": "select",
				"id": "section_width",
				"options": [
					{
						"value": "grid",
						"label": "网格"
					},
					{
						"value": "full-width-row",
						"label": "全宽"
					},
					{
						"value": "full-width-row-full",
						"label": "全宽无间距"
					}
				],
				"default": "grid",
				"label": "部分宽度"
			},
			{
				"type": "select",
				"id": "text_width",
				"label": "内容宽度",
				"options": [
					{
						"value": "small",
						"label": "小"
					},
					{
						"value": "medium",
						"label": "中"
					},
					{
						"value": "large",
						"label": "大"
					},
					{
						"value": "xlarge",
						"label": "特大"
					},
					{
						"value": "grid",
						"label": "网格"
					}
				],
				"default": "large"
			},
			{
				"type": "select",
				"id": "text_position",
				"label": "内容位置",
				"options": [
					{
						"value": "left",
						"label": "左"
					},
					{
						"value": "center",
						"label": "中"
					},
					{
						"value": "right",
						"label": "右"
					}
				],
				"default": "center"
			},
			{
				"type": "select",
				"id": "text_alignment",
				"label": "内容对齐",
				"options": [
					{
						"value": "left",
						"label": "左"
					},
					{
						"value": "center",
						"label": "中"
					},
					{
						"value": "right",
						"label": "右"
					}
				],
				"default": "left"
			},
			{
	      "type": "header",
	      "content": "背景"
	    },
			{
				"type": "image_picker",
				"id": "background_image",
				"label": "背景图片"
			},
			{
        "type": "color",
        "id": "color_bg",
        "label": "背景颜色",
        "default": "#ffffff"
      },
			{
	      "type": "header",
	      "content": "文字样式"
	    },
			{
        "type": "color",
        "id": "color_text",
        "label": "文字颜色",
        "default": "#333333"
      },
			{
        "type": "color",
        "id": "text_stroke_color",
        "label": "文字轮廓颜色",
        "default": "transparent"
      },
			{
        "type": "range",
        "id": "text_stroke_width",
        "min": 0,
        "max": 5,
        "step": 0.5,
        "unit": "px",
        "label": "文字轮廓宽度",
        "default": 0
      },
			{
        "type": "color",
        "id": "accent_color",
        "label": "强调颜色",
        "default": "#D4AF37"
      },
			{
        "type": "color",
        "id": "color_links",
        "label": "链接颜色",
        "default": "#D4AF37"
      },
			{
	      "type": "header",
	      "content": "间距"
	    },
			{
				"type": "checkbox",
				"id": "disable_top_spacing",
				"default": false,
				"label": "移除顶部间距"
			},
			{
				"type": "checkbox",
				"id": "disable_bottom_spacing",
				"default": false,
				"label": "移除底部间距"
			}
    ],
		"blocks": [
			{
				"type": "core_value",
				"name": "核心价值",
				"settings": [
					{
						"type": "text",
						"id": "icon",
						"label": "图标",
						"default": "🧵",
						"info": "使用表情符号作为图标"
					},
					{
						"type": "text",
						"id": "heading",
						"label": "标题",
						"default": "Supporting Village Life"
					},
					{
						"type": "select",
						"id": "heading_size",
						"label": "标题大小",
						"options": [
							{
								"value": "h2",
								"label": "大"
							},
							{
								"value": "h3",
								"label": "中"
							},
							{
								"value": "h4",
								"label": "小"
							}
						],
						"default": "h3"
					},
					{
						"type": "richtext",
						"id": "text",
						"label": "文本",
						"default": "<p>In remote mountain regions, in high-altitude villages, there are artisans who live with their hands and their faith. We want to offer them real, lasting opportunities — not one-time aid, but a dignified, sustainable source of income. So they can preserve their culture, support their families, and continue living on the land they love.</p>"
					},
					{
						"type": "select",
						"id": "text_size",
						"label": "文本大小",
						"options": [
							{
								"value": "text-size-large",
								"label": "大"
							},
							{
								"value": "text-size-regular",
								"label": "中"
							},
							{
								"value": "text-size-small",
								"label": "小"
							}
						],
						"default": "text-size-regular"
					}
				]
			}
    ],
    "presets": [
      {
        "name": "品牌故事",
				"blocks": [
					{
						"type": "core_value",
						"settings": {
							"icon": "🧵",
							"heading": "Supporting Village Life",
							"text": "<p>In remote mountain regions, in high-altitude villages, there are artisans who live with their hands and their faith. We want to offer them real, lasting opportunities — not one-time aid, but a dignified, sustainable source of income. So they can preserve their culture, support their families, and continue living on the land they love.</p>"
						}
					},
					{
						"type": "core_value",
						"settings": {
							"icon": "📿",
							"heading": "Giving Expression to the Dharma",
							"text": "<p>The Dharma isn't just found in temple bells or sacred texts. It can also appear as a string of prayer beads, a small amulet, or a bracelet woven with intention. Quietly, gently, these items can integrate into daily life — allowing faith to truly live in the heart, rather than remaining distant or abstract.</p>"
						}
					},
					{
						"type": "core_value",
						"settings": {
							"icon": "💛",
							"heading": "Spreading Kindness, Connecting Through Faith",
							"text": "<p>The value of these items doesn't lie in how luxurious they are — but in how they gently remind us to stay compassionate, to keep making vows in the midst of life's noise. They are quiet signals — gentle reminders — that on this human journey, we can recognize one another: You, too, came with kindness in your heart.</p>"
						}
					}
				]
      }
    ],
		"enabled_on": {
			"templates": ["*"],
			"groups": [
				"header", "footer"
			]
		}
  }
{% endschema %}